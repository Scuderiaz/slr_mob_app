<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Consumer • Payment History</title>
  <link rel="stylesheet" href="mobile.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header class="app-bar">
    <div class="left"><a href="consumer-dashboard.html"><i class="fa-solid fa-chevron-left"></i></a></div>
    <div class="title">Billing Information</div>
    <div class="right"></div>
  </header>
  <main class="page">
    <!-- Outstanding Balance Card -->
    <section style="background:#fff; border-radius:16px; padding:24px; margin-bottom:24px; box-shadow:0 4px 16px rgba(0,0,0,0.1); border-left:6px solid #f44336;">
      <div style="display:flex; align-items:center; gap:12px; margin-bottom:16px;">
        <div style="width:48px; height:48px; background:#ffebee; border-radius:12px; display:flex; align-items:center; justify-content:center; color:#f44336; font-size:24px;">
          <i class="fa-solid fa-exclamation-triangle"></i>
        </div>
        <div style="flex:1;">
          <div style="font-size:12px; color:#999; margin-bottom:2px; text-transform:uppercase; letter-spacing:0.5px;">Outstanding Balance</div>
          <div style="font-size:32px; font-weight:800; color:#f44336; line-height:1;">₱412.50</div>
        </div>
      </div>
      <div style="background:#f5f5f5; padding:14px; border-radius:10px; margin-bottom:12px;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <div>
            <div style="font-size:11px; color:#666; margin-bottom:2px;">Payment Due Date</div>
            <div style="font-size:14px; font-weight:700; color:#1a1a1a;">October 30, 2025</div>
          </div>
          <div style="background:#f44336; color:#fff; padding:6px 14px; border-radius:6px; font-size:11px; font-weight:700;">
            UNPAID
          </div>
        </div>
      </div>
      <div style="font-size:11px; color:#666; display:flex; align-items:center; gap:6px;">
        <i class="fa-solid fa-info-circle" style="color:#1a73e8;"></i>
        <span>Please settle your balance at the Municipal Treasurer's Office</span>
      </div>
    </section>

    <!-- Billing History Section -->
    <div style="margin-bottom:16px;">
      <h3 style="font-size:18px; font-weight:700; margin-bottom:16px; color:#1a1a1a;">Billing History</h3>
    </div>

    <!-- History Item 1 - Unpaid (September) -->
    <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:12px; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.06);">
      <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px;">
        <div style="flex:1;">
          <div style="font-size:13px; color:#666; margin-bottom:8px;">Bill Month: <span style="color:#2c5aa0; font-weight:600;">September 2025</span></div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;">
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Receipt No.</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">WB-2025-0913</div>
            </div>
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Amount</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">₱82.50</div>
            </div>
          </div>
        </div>
        <button onclick="openReceiptModal('September 2025', 'WB-2025-0913', '82.50', '301', '299', '2')" style="background:#1a73e8; border:none; cursor:pointer; padding:10px 16px; border-radius:8px; color:#fff; font-size:12px; font-weight:600;">
          <i class="fa-solid fa-receipt"></i> View
        </button>
      </div>
    </div>

    <!-- History Item 2 - Unpaid (August) -->
    <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:12px; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.06);">
      <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px;">
        <div style="flex:1;">
          <div style="font-size:13px; color:#666; margin-bottom:8px;">Bill Month: <span style="color:#2c5aa0; font-weight:600;">August 2025</span></div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;">
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Receipt No.</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">WB-2025-0815</div>
            </div>
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Amount</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">₱165.00</div>
            </div>
          </div>
        </div>
        <button onclick="openReceiptModal('August 2025', 'WB-2025-0815', '165.00', '295', '285', '10')" style="background:#1a73e8; border:none; cursor:pointer; padding:10px 16px; border-radius:8px; color:#fff; font-size:12px; font-weight:600;">
          <i class="fa-solid fa-receipt"></i> View
        </button>
      </div>
    </div>

    <!-- History Item 3 - Unpaid (July) -->
    <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:12px; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.06);">
      <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px;">
        <div style="flex:1;">
          <div style="font-size:13px; color:#666; margin-bottom:8px;">Bill Month: <span style="color:#2c5aa0; font-weight:600;">July 2025</span></div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;">
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Receipt No.</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">WB-2025-0718</div>
            </div>
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Amount</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">₱165.00</div>
            </div>
          </div>
        </div>
        <button onclick="openReceiptModal('July 2025', 'WB-2025-0718', '165.00', '290', '280', '10')" style="background:#1a73e8; border:none; cursor:pointer; padding:10px 16px; border-radius:8px; color:#fff; font-size:12px; font-weight:600;">
          <i class="fa-solid fa-receipt"></i> View
        </button>
      </div>
    </div>

    <!-- History Item 4 - Paid (June) -->
    <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:12px; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.06);">
      <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px;">
        <div style="flex:1;">
          <div style="font-size:12px; color:#4caf50; margin-bottom:4px; font-weight:600;">Payment Date: June 20, 2025</div>
          <div style="font-size:13px; color:#666; margin-bottom:8px;">Bill Month: <span style="color:#2c5aa0; font-weight:600;">June 2025</span></div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;">
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Receipt No.</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">WB-2025-0620</div>
            </div>
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Amount</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">₱160.00</div>
            </div>
          </div>
        </div>
        <button onclick="openReceiptModal('June 2025', 'WB-2025-0620', '160.00', '285', '275', '10')" style="background:#1a73e8; border:none; cursor:pointer; padding:10px 16px; border-radius:8px; color:#fff; font-size:12px; font-weight:600;">
          <i class="fa-solid fa-receipt"></i> View
        </button>
      </div>
    </div>

    <!-- History Item 5 - Paid (May) -->
    <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:12px; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.06);">
      <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px;">
        <div style="flex:1;">
          <div style="font-size:12px; color:#4caf50; margin-bottom:4px; font-weight:600;">Payment Date: May 18, 2025</div>
          <div style="font-size:13px; color:#666; margin-bottom:8px;">Bill Month: <span style="color:#2c5aa0; font-weight:600;">May 2025</span></div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;">
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Receipt No.</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">WB-2025-0518</div>
            </div>
            <div>
              <div style="font-size:11px; color:#999; margin-bottom:4px;">Amount</div>
              <div style="font-size:15px; font-weight:700; color:#1a1a1a;">₱160.00</div>
            </div>
          </div>
        </div>
        <button onclick="openReceiptModal('May 2025', 'WB-2025-0518', '160.00', '280', '270', '10')" style="background:#1a73e8; border:none; cursor:pointer; padding:10px 16px; border-radius:8px; color:#fff; font-size:12px; font-weight:600;">
          <i class="fa-solid fa-receipt"></i> View
        </button>
      </div>
    </div>

  </main>
  <nav class="bottom-nav">
    <a href="consumer-dashboard.html"><i class="fa-solid fa-house"></i>Dashboard</a>
    <a class="active" href="consumer-payment-history.html"><i class="fa-solid fa-receipt"></i>History</a>
    <a href="consumer-profile.html"><i class="fa-solid fa-user"></i>Profile</a>
  </nav>

  <script>
    function openReceiptModal(month, receiptNo, amount, current, prev, consumption) {
      const receiptHTML = `
        <html>
        <head>
          <title>Water Bill Receipt - ${month}</title>
          <style>
            body { font-family: system-ui; padding: 20px; max-width: 400px; margin: 0 auto; }
            table { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 10px; border: 1px solid #000; }
            td, th { border: 1px solid #000; padding: 4px; }
            .center { text-align: center; }
            .bold { font-weight: 700; }
            @media print {
              body { padding: 10px; }
            }
          </style>
        </head>
        <body>
          <div class="center" style="margin-bottom:10px;">
            <div class="bold" style="font-size:13px; margin-bottom:8px; letter-spacing:0.5px;">BAYARIN SA TUBIG</div>
            <div style="font-size:9px; line-height:1.2;">
              Republika ng Pilipinas<br>
              Lalawigan ng Camarines Norte<br>
              Bayan ng San Lorenzo Ruiz
            </div>
            <div class="bold" style="font-size:10px; margin-top:6px; letter-spacing:0.3px;">SAN LORENZO RUIZ WATERWORKS SYSTEM</div>
          </div>
          
          <table>
            <tr>
              <th>Account No.</th>
              <th>Numero ng Metro</th>
              <th>Petsa ng Pagbasa</th>
            </tr>
            <tr>
              <td>07-11-46-2</td>
              <td>1234</td>
              <td>${month}</td>
            </tr>
          </table>
          
          <table>
            <tr><th colspan="3">Pangalan ng Consumer</th></tr>
            <tr><td colspan="3">Juan Dela Cruz</td></tr>
            <tr><th colspan="3">Address</th></tr>
            <tr><td colspan="3">Purok 1, Barangay Poblacion</td></tr>
          </table>
          
          <div style="font-size:9px; margin-bottom:8px; line-height:1.4; text-align:justify;">
            Ang tagapagbasa ng metro ng tubig ay pumunta sa inyo ngayong araw upang basahin at kwentahin ang konsumo ng tubig ayon sa mga sumusunod:
          </div>
          
          <div style="font-size:10px; margin-bottom:6px;">
            <div class="bold" style="margin-bottom:2px;">Konsumo:</div>
            <div style="padding-left:5px; line-height:1.5;">
              <div style="display:flex; justify-content:space-between;">
                <span>Ngayong Buwan _____________________</span>
                <span><strong>${current}</strong> metro kubiko</span>
              </div>
              <div style="display:flex; justify-content:space-between;">
                <span>Nakaraang Buwan ___________________</span>
                <span><strong>${prev}</strong> metro kubiko</span>
              </div>
              <div style="display:flex; justify-content:space-between;">
                <span>Kabuuang Konsumo ___________________</span>
                <span><strong>${consumption}</strong> metro kubiko</span>
              </div>
            </div>
          </div>
          
          <div style="font-size:10px; margin-bottom:6px; margin-top:8px;">
            <div class="bold" style="margin-bottom:2px;">Takdang Halaga</div>
            <div style="padding-left:5px; line-height:1.5;">
              <div style="display:flex; justify-content:space-between;">
                <span>Bayarin ngayong Buwan ___________________</span>
                <span><strong>${amount}</strong></span>
              </div>
              <div style="display:flex; justify-content:space-between;">
                <span>Kabuuang Bayarin ________________________</span>
                <span><strong>${amount}</strong></span>
              </div>
            </div>
          </div>
          
          <div style="font-size:8px; margin:10px 0; line-height:1.4; text-align:justify; font-style:italic;">
            "Kung ang bayarin sa metro ng tubig/bayarin sa koneksyon/mga nakaraang buwan at multa ay nabayaran na, kasalukuyang buwan lang ang babayaran."
          </div>
          
          <table style="font-size:9px;">
            <tr>
              <th class="center">Water Bill #</th>
              <th class="center">Tagabasa ng Metro</th>
              <th class="center">Para sa Buwang</th>
            </tr>
            <tr>
              <td style="padding:20px;">${receiptNo}</td>
              <td style="padding:20px;" class="center">__________</td>
              <td style="padding:20px;">${month}</td>
            </tr>
          </table>
          
          <div class="center" style="font-size:8px; margin-top:8px; font-style:italic;">
            *** Hindi ito Patunay ng Kabayaran ***
          </div>
        </body>
        </html>
      `;
      
      // Open in new window and trigger print dialog (which allows Save as PDF)
      const printWindow = window.open('', '', 'height=600,width=400');
      printWindow.document.write(receiptHTML);
      printWindow.document.close();
      printWindow.focus();
      printWindow.print();
    }
  </script>
</body>
</html>
